(function(e){function t(t){for(var s,o,u=t[0],c=t[1],i=t[2],l=0,d=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var s={},r={app:0},a=[];function o(e){return u.p+"js/"+({about:"about"}[e]||e)+"."+{about:"2f933970"}[e]+".js"}function u(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,s){n=r[e]=[t,s]}));t.push(n[2]=s);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,u.nc&&c.setAttribute("nonce",u.nc),c.src=o(e);var i=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",i.name="ChunkLoadError",i.type=s,i.request=a,n[1](i)}r[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},u.m=e,u.c=s,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)u.d(n,s,function(t){return e[t]}.bind(null,s));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/chat-room-frontend/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0804":function(e,t,n){"use strict";n.r(t);var s,r=n("8785"),a=n("1da1"),o=(n("96cf"),n("2b0e")),u=n("2f62"),c=n("5184"),i=n("aecc"),l=n("56d7");o["default"].use(u["b"]);var f={usersMessages:[],userName:""},d={SET_MESSAGES:function(e,t){e.usersMessages=t},SET_USER_NAME:function(e,t){e.userName=t}},m={setMessages:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:s=e.commit,t&&s("SET_MESSAGES",t);case 2:case"end":return n.stop()}}),n)})))()},setName:function(e,t){var n=e.commit;t&&(n("SET_USER_NAME",t),l["default"].$router.push({name:"ChatRoom"}))},sendMessage:function(e,t){e.commit;t&&i["a"].mutate({mutation:Object(c["a"])(s||(s=Object(r["a"])(["\n          mutation ($user: String!, $content: String!) {\n            postMessage(user: $user, content: $content)\n          }\n        "]))),variables:{user:t.user,content:t.content}})}},p={usersMessages:function(e){return e.usersMessages},userName:function(e){return e.userName}};t["default"]={namespaced:!0,state:f,mutations:d,actions:m,getters:p}},"0f6b":function(e,t,n){},1628:function(e,t,n){"use strict";n("f06a")},"2a74":function(e,t,n){"use strict";n.r(t);n("159b"),n("d3b7"),n("ddb0"),n("ac1f"),n("5319");var s=n("d307"),r={};s.keys().forEach((function(e){"./index.js"!==e&&(r[e.replace(/(\.\/|\.js)/g,"")]=s(e).default)})),t["default"]=r},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("vs-navbar",{attrs:{color:"dark","text-white":"","center-collapsed":""},scopedSlots:e._u([{key:"left",fn:function(){return[n("img",{attrs:{src:"/logo2.png",alt:""}}),n("h4",{attrs:{"text-white":""}},[e._v("Hey Chat-Now!")])]},proxy:!0},{key:"right",fn:function(){return[e.userName?n("vs-avatar",{staticClass:"btn-mg",scopedSlots:e._u([{key:"text",fn:function(){return[e._v(" "+e._s(e.userName)+" ")]},proxy:!0}],null,!1,3172473243)}):e._e()]},proxy:!0}])})],1),n("router-view"),"Login"!==e.$route.name?n("vs-sidebar",{attrs:{absolute:"",open:""},scopedSlots:e._u([{key:"logo",fn:function(){return[n("h4",{attrs:{"text-white":""}},[e._v("Hey Chat-Now!")])]},proxy:!0},{key:"header",fn:function(){},proxy:!0},{key:"footer",fn:function(){return[n("vs-row",{attrs:{justify:"space-between"}},[n("vs-avatar",[n("img",{attrs:{src:"/avatars/avatar-5.png",alt:""}})]),n("vs-avatar",{attrs:{"badge-color":"danger","badge-position":"top-right"},scopedSlots:e._u([{key:"badge",fn:function(){return[e._v(" 28 ")]},proxy:!0}],null,!1,202321490)},[n("i",{staticClass:"bx bx-bell"})])],1)]},proxy:!0}],null,!1,2610988751),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("vs-sidebar-item",{attrs:{id:"chat"},scopedSlots:e._u([{key:"icon",fn:function(){return[n("i",{staticClass:"bx bx-chat"})]},proxy:!0}],null,!1,1018907551)},[e._v(" Buscador ")]),n("vs-sidebar-item",{attrs:{id:""},scopedSlots:e._u([{key:"icon",fn:function(){return[n("i",{staticClass:"bx bx-search-alt"})]},proxy:!0}],null,!1,3406906587)},[n("vs-input",{attrs:{placeholder:"Buscar Mensajes"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1),e.queryResult?n("div",e._l(e.queryResult,(function(e,t){return n("ChatMessage",{key:t,attrs:{mine:!1,"same-user":!1,message:e.content,user:e.user}})})),1):e._e(),e._v(" > ")],1):e._e()],1)},o=[],u=n("5530"),c=(n("4d63"),n("ac1f"),n("25f0"),n("99af"),n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex",class:e.isMine},[n("div",{staticClass:"user-av"},[e.sameUser?e._e():n("vs-avatar",{attrs:{dark:""},scopedSlots:e._u([{key:"text",fn:function(){return[e._v(" "+e._s(e.user)+" ")]},proxy:!0}],null,!1,726829564)})],1),n("vs-card",{staticClass:"msg-box",class:e.isSameUser,scopedSlots:e._u([{key:"text",fn:function(){return[n("p",{staticClass:"text-mg"},[e._v(" "+e._s(e.message)+" ")])]},proxy:!0}])})],1)}),i=[],l={name:"ChatMessage",props:{mine:{default:function(){return!1},type:Boolean},sameUser:{default:function(){return!1},type:Boolean},message:{default:function(){return""},type:String},user:{default:function(){return""},type:String}},computed:{isMine:function(){return{"my-msg":this.mine}},isSameUser:function(){return{"same-user-pd-left":this.sameUser&&!this.mine,"same-user-pd-right":this.sameUser&&this.mine}}}},f=l,d=(n("be71"),n("2877")),m=Object(d["a"])(f,c,i,!1,null,null,null),p=m.exports,b=n("2f62"),v=Object(b["a"])("Chat"),g=v.mapGetters,h={components:{ChatMessage:p},data:function(){return{active:"chat",query:""}},computed:Object(u["a"])(Object(u["a"])({},g(["userName","usersMessages"])),{},{queryResult:function(){var e=RegExp("".concat(this.query).concat(this.query?"+":""),"gi");return this.query?this.usersMessages.filter((function(t){return!0===e.test(t.content)})):[]}})},y=h,x=(n("5c0b"),Object(d["a"])(y,a,o,!1,null,null,null)),_=x.exports,k=n("522d"),j=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("vs-row",[n("vs-col",{attrs:{offset:"2","vs-type":"flex","vs-justify":"center","vs-align":"center",w:"8"}},[n("ChatContainer")],1)],1)],1)},O=[],w=n("8785"),M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"msg-container"},[n("div",{staticClass:"messages-box"},[n("div",{attrs:{id:"box"}},e._l(e.usersMessages,(function(t,s){return n("ChatMessage",{key:s,attrs:{mine:t.user===e.userName,"same-user":0!==s&&t.user===e.usersMessages[s-1].user,message:t.content,user:t.user}})})),1)]),n("div",{staticClass:"message-input"},[n("vs-input",{attrs:{primary:"",placeholder:"Escribe un mensaje"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send({user:e.userName,content:e.message})}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("vs-button",{attrs:{icon:"",color:"#7d33ff",relief:""},on:{click:function(t){return e.send({user:e.userName,content:e.message})}}},[n("i",{staticClass:"bx bxs-paper-plane"})])],1)])},S=[],E=Object(b["a"])("Chat"),N=E.mapGetters,T=E.mapActions,$={name:"ChatContainer",components:{ChatMessage:p},data:function(){return{message:""}},computed:Object(u["a"])({},N(["usersMessages","userName"])),methods:Object(u["a"])(Object(u["a"])({},T(["sendMessage"])),{},{send:function(e){e.content&&(this.sendMessage(e),this.message="",this.scrollToBottom())},scrollToBottom:function(){var e=document.getElementById("box");setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:"end"})}),100)}})},q=$,R=(n("c972"),Object(d["a"])(q,M,S,!1,null,null,null)),P=R.exports,U=n("5184"),A=Object(b["a"])("Chat"),B=A.mapGetters,L=A.mapActions,G={name:"ChatRoom",components:{ChatContainer:P},apollo:{$subscribe:{messages:{query:Object(U["a"])(s||(s=Object(w["a"])(["\n          subscription {\n            messages {\n              id\n              content\n              user\n            }\n          }\n        "]))),result:function(e){var t=e.data;this.setMessages(t.messages)}}}},data:function(){return{messages:[]}},computed:Object(u["a"])({},B(["usersMessages","userName"])),created:function(){this.userName||this.$router.push({name:"Login"})},methods:Object(u["a"])(Object(u["a"])({},L(["setMessages"])),{},{getMessages:function(){}})},I=G,D=Object(d["a"])(I,C,O,!1,null,null,null),z=D.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"center full"},[e.name?n("vs-avatar",{staticClass:"btn-mg",scopedSlots:e._u([{key:"text",fn:function(){return[e._v(" "+e._s(e.name)+" ")]},proxy:!0}],null,!1,2506548874)}):e._e(),n("vs-input",{attrs:{placeholder:"Ingresa tu nombre"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setName(e.name)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("vs-button",{staticClass:"btn-mg",attrs:{color:"#7d33ff",relief:""},on:{click:function(t){return e.setName(e.name)}}},[n("i",{staticClass:"bx bxs-paper-plane icon-mgr"}),e._v(" Ingresar ")])],1)},J=[],F=Object(b["a"])("Chat"),V=F.mapActions,K={name:"Login",data:function(){return{name:""}},methods:Object(u["a"])({},V(["setName"]))},Q=K,W=(n("1628"),Object(d["a"])(Q,H,J,!1,null,null,null)),X=W.exports;r["default"].use(j["a"]);var Y=[{path:"/",name:"Login",component:X},{path:"/chat-room",name:"ChatRoom",component:z},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],Z=new j["a"]({mode:"history",base:"/chat-room-frontend/",routes:Y}),ee=Z,te=n("2a74");r["default"].use(b["b"]);var ne=new b["b"].Store({modules:te["default"],strict:!0}),se=n("574d"),re=n.n(se);n("04f2"),n("3357"),n("678e");r["default"].use(re.a,{colors:{primary:"#5b3cc4",success:"rgb(23, 201, 100)",danger:"rgb(242, 19, 93)",warning:"rgb(255, 130, 0)",dark:"rgb(36, 33, 69)"}});var ae=n("aecc");r["default"].config.productionTip=!1,r["default"].use(k["a"]);var oe=new k["a"]({defaultClient:ae["a"]});t["default"]=new r["default"]({router:ee,store:ne,apolloProvider:oe,render:function(e){return e(_)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"9c0c":function(e,t,n){},aecc:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var s=n("74ca"),r=n("c0cc"),a=n("2bf2"),o=new r["a"]({uri:"wss://azcen-chat-room.herokuapp.com/",options:{reconnect:!0}}),u=new s["a"]({link:o,uri:"https://azcen-chat-room.herokuapp.com/",cache:new a["a"],connectToDevTools:!0})},be71:function(e,t,n){"use strict";n("d670")},c972:function(e,t,n){"use strict";n("0f6b")},d307:function(e,t,n){var s={"./Chat.js":"0804","./index.js":"2a74"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id="d307"},d670:function(e,t,n){},f06a:function(e,t,n){}});
//# sourceMappingURL=app.29ed77dd.js.map